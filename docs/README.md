<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [LambdaClient][1]
    -   [Parameters][2]
    -   [invokeJson][3]
        -   [Parameters][4]
-   [getAws][5]
-   [SqsSendMessageResponse][6]
    -   [Parameters][7]
    -   [Properties][8]
-   [SqsClient][9]
    -   [Parameters][10]
    -   [publishJson][11]
        -   [Parameters][12]
-   [annotateRequest][13]
    -   [Parameters][14]
-   [createCtx][15]
    -   [Parameters][16]
-   [createLogger][17]
    -   [Parameters][18]
-   [logFatal][19]
    -   [Parameters][20]
-   [createPreCtx][21]
    -   [Parameters][22]
-   [getEventType][23]
    -   [Parameters][24]
-   [EventType][25]
    -   [Properties][26]
-   [getRequestId][27]
    -   [Parameters][28]
-   [getRequestIdSqs][29]
    -   [Parameters][30]
-   [getRequestIdHttp][31]
    -   [Parameters][32]
-   [createHandlerFactory][33]
    -   [Parameters][34]
-   [parseJsonHttpEvent][35]
    -   [Parameters][36]
-   [HttpEvent][37]
    -   [Parameters][38]
    -   [Properties][39]
-   [parseJsonMonoSqsEvent][40]
    -   [Parameters][41]
-   [SqsEvent][42]
    -   [Parameters][43]
    -   [Properties][44]
-   [readJson][45]
    -   [Parameters][46]

## LambdaClient

A wrapper around AWS.Lambda to simplify interactions

### Parameters

-   `options` **[Object][47]** See below
    -   `options.arn` **[string][48]** The ARN of the lambda to invoke
    -   `options.name` **[string][48]** The name to be used for the 'client' property on the logger (optional, default `'lambda'`)
    -   `options.reqId` **[string][48]** The reqId used for distributed log tracing (optional, default `uuidv4()`)
    -   `options.log` **[Object][47]** A pino compatible logger (optional, default `createLogger()`)
    -   `options.params` **[Object][47]** Additional parameters to the AWS.Lambda constructor 'params' property (optional, default `{}`)

### invokeJson

Invoke the lambda

#### Parameters

-   `input` **[Object][47]** The object to pass as the Payload for lambdaClient.invoke
-   `params` **[Object][47]** Additional properties to the lambdaClient.invoke method (optional, default `{}`)

Returns **any** The JSON parsed response from lambdaClient.invoke

## getAws

Get the AWS namespace wrapped in tracing where appropriate

Returns **AWS** The AWS namespace wrapped in tracing where appropriate

## SqsSendMessageResponse

A basic POJO encapsulating sent message attributes

### Parameters

-   `options` **[Object][47]** 
    -   `options.md5OfMessageBody` **[string][48]** 
    -   `options.messageId` **[string][48]** 
    -   `options.md5OfMessageAttributes` **[string][48]** 
    -   `options.sequenceNumber` **[number][49]** 

### Properties

-   `md5OfMessageBody` **[string][48]** 
-   `messageId` **[string][48]** 
-   `md5OfMessageAttributes` **[string][48]** 
-   `sequenceNumber` **[number][49]** 

## SqsClient

A wrapper around AWS.SQS to simplify interactions

### Parameters

-   `options` **[Object][47]** See below
    -   `options.queueUrl` **[string][48]** The URL for the queue
    -   `options.name` **[string][48]** The name to be used for the 'client' property on the logger (optional, default `'sqs'`)
    -   `options.reqId` **[string][48]** The reqId used for distributed log tracing (optional, default `uuidv4()`)
    -   `options.log` **[Object][47]** A pino compatible logger (optional, default `createLogger()`)
    -   `options.params` **[Object][47]** Additional parameters to the AWS.Lambda constructor 'params' property (optional, default `{}`)

### publishJson

Publish a message to SQS that will be JSON

#### Parameters

-   `input` **[Object][47]** The message body to be sent to SQS
-   `params` **[Object][47]** Additional properties to the sqsClient.sendMessage method (optional, default `{}`)

Returns **[SqsSendMessageResponse][50]** Information about the message sent

## annotateRequest

If possible, add the distributed tracing reqId to xray trace

### Parameters

-   `options` **[Object][47]** See below
    -   `options.reqId` **[string][48]** The request ID to annotate the trace with

## createCtx

Create the global context with a logger

### Parameters

-   `event` **[Object][47]** The event passed to lambda
-   `context` **[Object][47]** The lambda runtime context
-   `t` **[Object][47]?** Optional for if running in ava

Returns **Ctx** The new context

## createLogger

Create a logger based on the Lambda Context

### Parameters

-   `preCtx` **PreCtx** The Pre-context for the Lambda Event (optional, default `{}`)
-   `t` **any** Used for when testing with Ava

Returns **[Object][47]** A pino compatible logger with settings and a base context filled in

## logFatal

A function for logging before the context aware logger could be created

### Parameters

-   `err` **[Error][51]** The error that occurred
-   `msg` **[string][48]** The message for the error

Returns **void** 

## createPreCtx

Get basic context information from lambda event and context

### Parameters

-   `event` **[Object][47]** Lambda event
-   `context` **[Object][47]** Lambda context

Returns **PreCtx** The context from just lambda

## getEventType

Figure out the type of lambda event based on its event object

### Parameters

-   `event` **[Object][47]** The lambda event

Returns **[string][48]** 

## EventType

The different types of events that can occur

### Properties

-   `cloudfront` **[string][48]** 
-   `awsConfig` **[string][48]** 
-   `codeCommit` **[string][48]** 
-   `apiGatewayAuthorizer` **[string][48]** 
-   `cloudFormation` **[string][48]** 
-   `ses` **[string][48]** 
-   `apiGatewayAwsProxy` **[string][48]** 
-   `scheduledEvent` **[string][48]** 
-   `cloudWatchLogs` **[string][48]** 
-   `sns` **[string][48]** 
-   `dynamoDb` **[string][48]** 
-   `kinesisFirehose` **[string][48]** 
-   `cognitoSyncTrigger` **[string][48]** 
-   `kinesis` **[string][48]** 
-   `s3` **[string][48]** 
-   `mobileBackend` **[string][48]** 
-   `sqs` **[string][48]** 
-   `lambda` **[string][48]** 
-   `isValid` **[Function][52]** Return true if provided value is a valid event type, false otherwise

## getRequestId

Get the reqId from a lambda event

### Parameters

-   `args` **...any** 
-   `event` **[Object][47]** Lambda event

Returns **([string][48] \| [undefined][53])** The reqId if it exists, undefined otherwise

## getRequestIdSqs

Get the reqId from an SQS lambda event

### Parameters

-   `event` **[Object][47]** SQS HTTP event

Returns **([string][48] \| [undefined][53])** The reqId if it exists, undefined otherwise

## getRequestIdHttp

Get the reqId from an HTTP lambda event

### Parameters

-   `event` **[Object][47]** Lambda HTTP event

Returns **([string][48] \| [undefined][53])** The reqId if it exists, undefined otherwise

## createHandlerFactory

TODO: this is nearly impossible to document...
A factory function that returns a function which can be invoked to create a handler.

### Parameters

-   `options` **[Object][47]?** See below (NOOP functions will be used if no options are provided) (optional, default `{}`)
    -   `options.parser` **[Function][52]** A function to parse the incoming lambda event (optional, default `identity`)
    -   `options.serializer` **[Function][52]** A function to serialize the response from the lambda invocation (optional, default `identity`)

Returns **createHandler** A function to create the handler

## parseJsonHttpEvent

This parse will handle the following:

-   Body parsed into a json object
-   HTTP method as a string
-   Path parameters as key value pairs, properly decoded from uri
-   Query string parameters as multi-value entries. Object&lt;string, Array<string>>

### Parameters

-   `event` **[object][47]** An event from Api Gateway -> Lambda Proxy Integration

Returns **[HttpEvent][54]** The parsed event

## HttpEvent

Parse an HTTP Lambda event

### Parameters

-   `options` **[Object][47]** See below
    -   `options.body` **[Object][47]** The body of the event
    -   `options.httpMethod` **[string][48]** String name of the http method
    -   `options.pathParameters` **[Object][47]&lt;[string][48], [string][48]>** An object of path part name, value pairs
    -   `options.queryStringParameters` **[Object][47]&lt;[string][48], [Array][55]&lt;[string][48]>>** An object of parameter name, array of values pairs

### Properties

-   `body` **[Object][47]** The body of the event
-   `httpMethod` **[string][48]** String name of the http method
-   `pathParameters` **[Object][47]&lt;[string][48], [string][48]>** An object of path part name, value pairs
-   `queryStringParameters` **[Object][47]&lt;[string][48], [Array][55]&lt;[string][48]>>** An object of parameter name, array of values pairs

## parseJsonMonoSqsEvent

Parse a Lambda SQS event

### Parameters

-   `sqsEvent` **[Object][47]** A Lambda SQS event

Returns **[SqsEvent][56]** The parsed SQS event

## SqsEvent

An SQS Event

### Parameters

-   `options` **[Object][47]** See below
    -   `options.body` **[Object][47]** The body of the SQS event

### Properties

-   `body` **[Object][47]** The body of the event

## readJson

A method read a file from disk and parse it as JSON

### Parameters

-   `args` **...any** The path as it would be provided to path.resolve

Returns **[Object][47]** The file contents parsed as JSON

[1]: #lambdaclient

[2]: #parameters

[3]: #invokejson

[4]: #parameters-1

[5]: #getaws

[6]: #sqssendmessageresponse

[7]: #parameters-2

[8]: #properties

[9]: #sqsclient

[10]: #parameters-3

[11]: #publishjson

[12]: #parameters-4

[13]: #annotaterequest

[14]: #parameters-5

[15]: #createctx

[16]: #parameters-6

[17]: #createlogger

[18]: #parameters-7

[19]: #logfatal

[20]: #parameters-8

[21]: #createprectx

[22]: #parameters-9

[23]: #geteventtype

[24]: #parameters-10

[25]: #eventtype

[26]: #properties-1

[27]: #getrequestid

[28]: #parameters-11

[29]: #getrequestidsqs

[30]: #parameters-12

[31]: #getrequestidhttp

[32]: #parameters-13

[33]: #createhandlerfactory

[34]: #parameters-14

[35]: #parsejsonhttpevent

[36]: #parameters-15

[37]: #httpevent

[38]: #parameters-16

[39]: #properties-2

[40]: #parsejsonmonosqsevent

[41]: #parameters-17

[42]: #sqsevent

[43]: #parameters-18

[44]: #properties-3

[45]: #readjson

[46]: #parameters-19

[47]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[48]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[49]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[50]: #sqssendmessageresponse

[51]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[52]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[54]: #httpevent

[55]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[56]: #sqsevent
